import{c as pe,r as Ee,j as Ce,b as Re,W as ct,s as ut,H as _}from"./index-DYty7JYV.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=pe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),lt=ct("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dt=Ee.forwardRef(({className:i,variant:r,...n},t)=>Ce.jsx("div",{ref:t,role:"alert",className:Re(lt({variant:r}),i),...n}));dt.displayName="Alert";const ft=Ee.forwardRef(({className:i,...r},n)=>Ce.jsx("h5",{ref:n,className:Re("mb-1 font-medium leading-none tracking-tight",i),...r}));ft.displayName="AlertTitle";const gt=Ee.forwardRef(({className:i,...r},n)=>Ce.jsx("div",{ref:n,className:Re("text-sm [&_p]:leading-relaxed",i),...r}));gt.displayName="AlertDescription";var O={},x,ve;function ht(){return ve||(ve=1,x=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),x}var G={},F={},Ie;function U(){if(Ie)return F;Ie=1;let i;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return F.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},F.getSymbolTotalCodewords=function(t){return r[t]},F.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t},F.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');i=t},F.isKanjiModeEnabled=function(){return typeof i<"u"},F.toSJIS=function(t){return i(t)},F}var W={},Me;function Be(){return Me||(Me=1,(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+n)}}i.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},i.from=function(t,e){if(i.isValid(t))return t;try{return r(t)}catch{return e}}})(W)),W}var X,Te;function wt(){if(Te)return X;Te=1;function i(){this.buffer=[],this.length=0}return i.prototype={get:function(r){const n=Math.floor(r/8);return(this.buffer[n]>>>7-r%8&1)===1},put:function(r,n){for(let t=0;t<n;t++)this.putBit((r>>>n-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),r&&(this.buffer[n]|=128>>>this.length%8),this.length++}},X=i,X}var Z,Ne;function mt(){if(Ne)return Z;Ne=1;function i(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}return i.prototype.set=function(r,n,t,e){const o=r*this.size+n;this.data[o]=t,e&&(this.reservedBit[o]=!0)},i.prototype.get=function(r,n){return this.data[r*this.size+n]},i.prototype.xor=function(r,n,t){this.data[r*this.size+n]^=t},i.prototype.isReserved=function(r,n){return this.reservedBit[r*this.size+n]},Z=i,Z}var ee={},Pe;function yt(){return Pe||(Pe=1,(function(i){const r=U().getSymbolSize;i.getRowColCoords=function(t){if(t===1)return[];const e=Math.floor(t/7)+2,o=r(t),a=o===145?26:Math.ceil((o-13)/(2*e-2))*2,c=[o-7];for(let s=1;s<e-1;s++)c[s]=c[s-1]-a;return c.push(6),c.reverse()},i.getPositions=function(t){const e=[],o=i.getRowColCoords(t),a=o.length;for(let c=0;c<a;c++)for(let s=0;s<a;s++)c===0&&s===0||c===0&&s===a-1||c===a-1&&s===0||e.push([o[c],o[s]]);return e}})(ee)),ee}var te={},ke;function pt(){if(ke)return te;ke=1;const i=U().getSymbolSize,r=7;return te.getPositions=function(t){const e=i(t);return[[0,0],[e-r,0],[0,e-r]]},te}var re={},De;function Et(){return De||(De=1,(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};i.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const o=e.size;let a=0,c=0,s=0,u=null,f=null;for(let C=0;C<o;C++){c=s=0,u=f=null;for(let h=0;h<o;h++){let l=e.get(C,h);l===u?c++:(c>=5&&(a+=r.N1+(c-5)),u=l,c=1),l=e.get(h,C),l===f?s++:(s>=5&&(a+=r.N1+(s-5)),f=l,s=1)}c>=5&&(a+=r.N1+(c-5)),s>=5&&(a+=r.N1+(s-5))}return a},i.getPenaltyN2=function(e){const o=e.size;let a=0;for(let c=0;c<o-1;c++)for(let s=0;s<o-1;s++){const u=e.get(c,s)+e.get(c,s+1)+e.get(c+1,s)+e.get(c+1,s+1);(u===4||u===0)&&a++}return a*r.N2},i.getPenaltyN3=function(e){const o=e.size;let a=0,c=0,s=0;for(let u=0;u<o;u++){c=s=0;for(let f=0;f<o;f++)c=c<<1&2047|e.get(u,f),f>=10&&(c===1488||c===93)&&a++,s=s<<1&2047|e.get(f,u),f>=10&&(s===1488||s===93)&&a++}return a*r.N3},i.getPenaltyN4=function(e){let o=0;const a=e.data.length;for(let s=0;s<a;s++)o+=e.data[s];return Math.abs(Math.ceil(o*100/a/5)-10)*r.N4};function n(t,e,o){switch(t){case i.Patterns.PATTERN000:return(e+o)%2===0;case i.Patterns.PATTERN001:return e%2===0;case i.Patterns.PATTERN010:return o%3===0;case i.Patterns.PATTERN011:return(e+o)%3===0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(o/3))%2===0;case i.Patterns.PATTERN101:return e*o%2+e*o%3===0;case i.Patterns.PATTERN110:return(e*o%2+e*o%3)%2===0;case i.Patterns.PATTERN111:return(e*o%3+(e+o)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}i.applyMask=function(e,o){const a=o.size;for(let c=0;c<a;c++)for(let s=0;s<a;s++)o.isReserved(s,c)||o.xor(s,c,n(e,s,c))},i.getBestMask=function(e,o){const a=Object.keys(i.Patterns).length;let c=0,s=1/0;for(let u=0;u<a;u++){o(u),i.applyMask(u,e);const f=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(u,e),f<s&&(s=f,c=u)}return c}})(re)),re}var H={},Le;function tt(){if(Le)return H;Le=1;const i=Be(),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return H.getBlocksCount=function(e,o){switch(o){case i.L:return r[(e-1)*4+0];case i.M:return r[(e-1)*4+1];case i.Q:return r[(e-1)*4+2];case i.H:return r[(e-1)*4+3];default:return}},H.getTotalCodewordsCount=function(e,o){switch(o){case i.L:return n[(e-1)*4+0];case i.M:return n[(e-1)*4+1];case i.Q:return n[(e-1)*4+2];case i.H:return n[(e-1)*4+3];default:return}},H}var ne={},V={},Fe;function Ct(){if(Fe)return V;Fe=1;const i=new Uint8Array(512),r=new Uint8Array(256);return(function(){let t=1;for(let e=0;e<255;e++)i[e]=t,r[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)i[e]=i[e-255]})(),V.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},V.exp=function(t){return i[t]},V.mul=function(t,e){return t===0||e===0?0:i[r[t]+r[e]]},V}var Ue;function Rt(){return Ue||(Ue=1,(function(i){const r=Ct();i.mul=function(t,e){const o=new Uint8Array(t.length+e.length-1);for(let a=0;a<t.length;a++)for(let c=0;c<e.length;c++)o[a+c]^=r.mul(t[a],e[c]);return o},i.mod=function(t,e){let o=new Uint8Array(t);for(;o.length-e.length>=0;){const a=o[0];for(let s=0;s<e.length;s++)o[s]^=r.mul(e[s],a);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},i.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let o=0;o<t;o++)e=i.mul(e,new Uint8Array([1,r.exp(o)]));return e}})(ne)),ne}var oe,qe;function Bt(){if(qe)return oe;qe=1;const i=Rt();function r(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return r.prototype.initialize=function(t){this.degree=t,this.genPoly=i.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const o=i.mod(e,this.genPoly),a=this.degree-o.length;if(a>0){const c=new Uint8Array(this.degree);return c.set(o,a),c}return o},oe=r,oe}var ie={},ae={},se={},Qe;function rt(){return Qe||(Qe=1,se.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}),se}var P={},_e;function nt(){if(_e)return P;_e=1;const i="[0-9]+",r="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;P.KANJI=new RegExp(n,"g"),P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),P.BYTE=new RegExp(t,"g"),P.NUMERIC=new RegExp(i,"g"),P.ALPHANUMERIC=new RegExp(r,"g");const e=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return P.testKanji=function(s){return e.test(s)},P.testNumeric=function(s){return o.test(s)},P.testAlphanumeric=function(s){return a.test(s)},P}var Oe;function q(){return Oe||(Oe=1,(function(i){const r=rt(),n=nt();i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!r.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},i.getBestModeForData=function(o){return n.testNumeric(o)?i.NUMERIC:n.testAlphanumeric(o)?i.ALPHANUMERIC:n.testKanji(o)?i.KANJI:i.BYTE},i.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},i.isValid=function(o){return o&&o.bit&&o.ccBits};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+e)}}i.from=function(o,a){if(i.isValid(o))return o;try{return t(o)}catch{return a}}})(ae)),ae}var ze;function At(){return ze||(ze=1,(function(i){const r=U(),n=tt(),t=Be(),e=q(),o=rt(),a=7973,c=r.getBCHDigit(a);function s(h,l,v){for(let I=1;I<=40;I++)if(l<=i.getCapacity(I,v,h))return I}function u(h,l){return e.getCharCountIndicator(h,l)+4}function f(h,l){let v=0;return h.forEach(function(I){const T=u(I.mode,l);v+=T+I.getBitsLength()}),v}function C(h,l){for(let v=1;v<=40;v++)if(f(h,v)<=i.getCapacity(v,l,e.MIXED))return v}i.from=function(l,v){return o.isValid(l)?parseInt(l,10):v},i.getCapacity=function(l,v,I){if(!o.isValid(l))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=e.BYTE);const T=r.getSymbolTotalCodewords(l),A=n.getTotalCodewordsCount(l,v),M=(T-A)*8;if(I===e.MIXED)return M;const b=M-u(I,l);switch(I){case e.NUMERIC:return Math.floor(b/10*3);case e.ALPHANUMERIC:return Math.floor(b/11*2);case e.KANJI:return Math.floor(b/13);case e.BYTE:default:return Math.floor(b/8)}},i.getBestVersionForData=function(l,v){let I;const T=t.from(v,t.M);if(Array.isArray(l)){if(l.length>1)return C(l,T);if(l.length===0)return 1;I=l[0]}else I=l;return s(I.mode,I.getLength(),T)},i.getEncodedBits=function(l){if(!o.isValid(l)||l<7)throw new Error("Invalid QR Code version");let v=l<<12;for(;r.getBCHDigit(v)-c>=0;)v^=a<<r.getBCHDigit(v)-c;return l<<12|v}})(ie)),ie}var ce={},Ve;function bt(){if(Ve)return ce;Ve=1;const i=U(),r=1335,n=21522,t=i.getBCHDigit(r);return ce.getEncodedBits=function(o,a){const c=o.bit<<3|a;let s=c<<10;for(;i.getBCHDigit(s)-t>=0;)s^=r<<i.getBCHDigit(s)-t;return(c<<10|s)^n},ce}var ue={},le,je;function St(){if(je)return le;je=1;const i=q();function r(n){this.mode=i.NUMERIC,this.data=n.toString()}return r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e,o,a;for(e=0;e+3<=this.data.length;e+=3)o=this.data.substr(e,3),a=parseInt(o,10),t.put(a,10);const c=this.data.length-e;c>0&&(o=this.data.substr(e),a=parseInt(o,10),t.put(a,c*3+1))},le=r,le}var de,He;function vt(){if(He)return de;He=1;const i=q(),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(t){this.mode=i.ALPHANUMERIC,this.data=t}return n.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let o;for(o=0;o+2<=this.data.length;o+=2){let a=r.indexOf(this.data[o])*45;a+=r.indexOf(this.data[o+1]),e.put(a,11)}this.data.length%2&&e.put(r.indexOf(this.data[o]),6)},de=n,de}var fe,Ke;function It(){if(Ke)return fe;Ke=1;const i=q();function r(n){this.mode=i.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return r.getBitsLength=function(t){return t*8},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)},fe=r,fe}var ge,Je;function Mt(){if(Je)return ge;Je=1;const i=q(),r=U();function n(t){this.mode=i.KANJI,this.data=t}return n.getBitsLength=function(e){return e*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let o=r.toSJIS(this.data[e]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),t.put(o,13)}},ge=n,ge}var he={exports:{}},$e;function Tt(){return $e||($e=1,(function(i){var r={single_source_shortest_paths:function(n,t,e){var o={},a={};a[t]=0;var c=r.PriorityQueue.make();c.push(t,0);for(var s,u,f,C,h,l,v,I,T;!c.empty();){s=c.pop(),u=s.value,C=s.cost,h=n[u]||{};for(f in h)h.hasOwnProperty(f)&&(l=h[f],v=C+l,I=a[f],T=typeof a[f]>"u",(T||I>v)&&(a[f]=v,c.push(f,v),o[f]=u))}if(typeof e<"u"&&typeof a[e]>"u"){var A=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(A)}return o},extract_shortest_path_from_predecessor_list:function(n,t){for(var e=[],o=t;o;)e.push(o),n[o],o=n[o];return e.reverse(),e},find_path:function(n,t,e){var o=r.single_source_shortest_paths(n,t,e);return r.extract_shortest_path_from_predecessor_list(o,e)},PriorityQueue:{make:function(n){var t=r.PriorityQueue,e={},o;n=n||{};for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e.queue=[],e.sorter=n.sorter||t.default_sorter,e},default_sorter:function(n,t){return n.cost-t.cost},push:function(n,t){var e={value:n,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=r})(he)),he.exports}var Ye;function Nt(){return Ye||(Ye=1,(function(i){const r=q(),n=St(),t=vt(),e=It(),o=Mt(),a=nt(),c=U(),s=Tt();function u(A){return unescape(encodeURIComponent(A)).length}function f(A,M,b){const R=[];let N;for(;(N=A.exec(b))!==null;)R.push({data:N[0],index:N.index,mode:M,length:N[0].length});return R}function C(A){const M=f(a.NUMERIC,r.NUMERIC,A),b=f(a.ALPHANUMERIC,r.ALPHANUMERIC,A);let R,N;return c.isKanjiModeEnabled()?(R=f(a.BYTE,r.BYTE,A),N=f(a.KANJI,r.KANJI,A)):(R=f(a.BYTE_KANJI,r.BYTE,A),N=[]),M.concat(b,R,N).sort(function(p,y){return p.index-y.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function h(A,M){switch(M){case r.NUMERIC:return n.getBitsLength(A);case r.ALPHANUMERIC:return t.getBitsLength(A);case r.KANJI:return o.getBitsLength(A);case r.BYTE:return e.getBitsLength(A)}}function l(A){return A.reduce(function(M,b){const R=M.length-1>=0?M[M.length-1]:null;return R&&R.mode===b.mode?(M[M.length-1].data+=b.data,M):(M.push(b),M)},[])}function v(A){const M=[];for(let b=0;b<A.length;b++){const R=A[b];switch(R.mode){case r.NUMERIC:M.push([R,{data:R.data,mode:r.ALPHANUMERIC,length:R.length},{data:R.data,mode:r.BYTE,length:R.length}]);break;case r.ALPHANUMERIC:M.push([R,{data:R.data,mode:r.BYTE,length:R.length}]);break;case r.KANJI:M.push([R,{data:R.data,mode:r.BYTE,length:u(R.data)}]);break;case r.BYTE:M.push([{data:R.data,mode:r.BYTE,length:u(R.data)}])}}return M}function I(A,M){const b={},R={start:{}};let N=["start"];for(let g=0;g<A.length;g++){const p=A[g],y=[];for(let d=0;d<p.length;d++){const B=p[d],w=""+g+d;y.push(w),b[w]={node:B,lastCount:0},R[w]={};for(let E=0;E<N.length;E++){const m=N[E];b[m]&&b[m].node.mode===B.mode?(R[m][w]=h(b[m].lastCount+B.length,B.mode)-h(b[m].lastCount,B.mode),b[m].lastCount+=B.length):(b[m]&&(b[m].lastCount=B.length),R[m][w]=h(B.length,B.mode)+4+r.getCharCountIndicator(B.mode,M))}}N=y}for(let g=0;g<N.length;g++)R[N[g]].end=0;return{map:R,table:b}}function T(A,M){let b;const R=r.getBestModeForData(A);if(b=r.from(M,R),b!==r.BYTE&&b.bit<R.bit)throw new Error('"'+A+'" cannot be encoded with mode '+r.toString(b)+`.
 Suggested mode is: `+r.toString(R));switch(b===r.KANJI&&!c.isKanjiModeEnabled()&&(b=r.BYTE),b){case r.NUMERIC:return new n(A);case r.ALPHANUMERIC:return new t(A);case r.KANJI:return new o(A);case r.BYTE:return new e(A)}}i.fromArray=function(M){return M.reduce(function(b,R){return typeof R=="string"?b.push(T(R,null)):R.data&&b.push(T(R.data,R.mode)),b},[])},i.fromString=function(M,b){const R=C(M,c.isKanjiModeEnabled()),N=v(R),g=I(N,b),p=s.find_path(g.map,"start","end"),y=[];for(let d=1;d<p.length-1;d++)y.push(g.table[p[d]].node);return i.fromArray(l(y))},i.rawSplit=function(M){return i.fromArray(C(M,c.isKanjiModeEnabled()))}})(ue)),ue}var xe;function Pt(){if(xe)return G;xe=1;const i=U(),r=Be(),n=wt(),t=mt(),e=yt(),o=pt(),a=Et(),c=tt(),s=Bt(),u=At(),f=bt(),C=q(),h=Nt();function l(g,p){const y=g.size,d=o.getPositions(p);for(let B=0;B<d.length;B++){const w=d[B][0],E=d[B][1];for(let m=-1;m<=7;m++)if(!(w+m<=-1||y<=w+m))for(let S=-1;S<=7;S++)E+S<=-1||y<=E+S||(m>=0&&m<=6&&(S===0||S===6)||S>=0&&S<=6&&(m===0||m===6)||m>=2&&m<=4&&S>=2&&S<=4?g.set(w+m,E+S,!0,!0):g.set(w+m,E+S,!1,!0))}}function v(g){const p=g.size;for(let y=8;y<p-8;y++){const d=y%2===0;g.set(y,6,d,!0),g.set(6,y,d,!0)}}function I(g,p){const y=e.getPositions(p);for(let d=0;d<y.length;d++){const B=y[d][0],w=y[d][1];for(let E=-2;E<=2;E++)for(let m=-2;m<=2;m++)E===-2||E===2||m===-2||m===2||E===0&&m===0?g.set(B+E,w+m,!0,!0):g.set(B+E,w+m,!1,!0)}}function T(g,p){const y=g.size,d=u.getEncodedBits(p);let B,w,E;for(let m=0;m<18;m++)B=Math.floor(m/3),w=m%3+y-8-3,E=(d>>m&1)===1,g.set(B,w,E,!0),g.set(w,B,E,!0)}function A(g,p,y){const d=g.size,B=f.getEncodedBits(p,y);let w,E;for(w=0;w<15;w++)E=(B>>w&1)===1,w<6?g.set(w,8,E,!0):w<8?g.set(w+1,8,E,!0):g.set(d-15+w,8,E,!0),w<8?g.set(8,d-w-1,E,!0):w<9?g.set(8,15-w-1+1,E,!0):g.set(8,15-w-1,E,!0);g.set(d-8,8,1,!0)}function M(g,p){const y=g.size;let d=-1,B=y-1,w=7,E=0;for(let m=y-1;m>0;m-=2)for(m===6&&m--;;){for(let S=0;S<2;S++)if(!g.isReserved(B,m-S)){let L=!1;E<p.length&&(L=(p[E]>>>w&1)===1),g.set(B,m-S,L),w--,w===-1&&(E++,w=7)}if(B+=d,B<0||y<=B){B-=d,d=-d;break}}}function b(g,p,y){const d=new n;y.forEach(function(S){d.put(S.mode.bit,4),d.put(S.getLength(),C.getCharCountIndicator(S.mode,g)),S.write(d)});const B=i.getSymbolTotalCodewords(g),w=c.getTotalCodewordsCount(g,p),E=(B-w)*8;for(d.getLengthInBits()+4<=E&&d.put(0,4);d.getLengthInBits()%8!==0;)d.putBit(0);const m=(E-d.getLengthInBits())/8;for(let S=0;S<m;S++)d.put(S%2?17:236,8);return R(d,g,p)}function R(g,p,y){const d=i.getSymbolTotalCodewords(p),B=c.getTotalCodewordsCount(p,y),w=d-B,E=c.getBlocksCount(p,y),m=d%E,S=E-m,L=Math.floor(d/E),z=Math.floor(w/E),it=z+1,Ae=L-z,at=new s(Ae);let K=0;const j=new Array(E),be=new Array(E);let J=0;const st=new Uint8Array(g.buffer);for(let Q=0;Q<E;Q++){const Y=Q<S?z:it;j[Q]=st.slice(K,K+Y),be[Q]=at.encode(j[Q]),K+=Y,J=Math.max(J,Y)}const $=new Uint8Array(d);let Se=0,k,D;for(k=0;k<J;k++)for(D=0;D<E;D++)k<j[D].length&&($[Se++]=j[D][k]);for(k=0;k<Ae;k++)for(D=0;D<E;D++)$[Se++]=be[D][k];return $}function N(g,p,y,d){let B;if(Array.isArray(g))B=h.fromArray(g);else if(typeof g=="string"){let L=p;if(!L){const z=h.rawSplit(g);L=u.getBestVersionForData(z,y)}B=h.fromString(g,L||40)}else throw new Error("Invalid data");const w=u.getBestVersionForData(B,y);if(!w)throw new Error("The amount of data is too big to be stored in a QR Code");if(!p)p=w;else if(p<w)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+w+`.
`);const E=b(p,y,B),m=i.getSymbolSize(p),S=new t(m);return l(S,p),v(S),I(S,p),A(S,y,0),p>=7&&T(S,p),M(S,E),isNaN(d)&&(d=a.getBestMask(S,A.bind(null,S,y))),a.applyMask(d,S),A(S,y,d),{modules:S,version:p,errorCorrectionLevel:y,maskPattern:d,segments:B}}return G.create=function(p,y){if(typeof p>"u"||p==="")throw new Error("No input text");let d=r.M,B,w;return typeof y<"u"&&(d=r.from(y.errorCorrectionLevel,r.M),B=u.from(y.version),w=a.from(y.maskPattern),y.toSJISFunc&&i.setToSJISFunction(y.toSJISFunc)),N(p,B,d,w)},G}var we={},me={},Ge;function ot(){return Ge||(Ge=1,(function(i){function r(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+n);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),t.length===6&&t.push("F","F");const e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}i.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,o=t.width&&t.width>=21?t.width:void 0,a=t.scale||4;return{width:o,scale:o?4:a,margin:e,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},i.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale},i.getImageWidth=function(t,e){const o=i.getScale(t,e);return Math.floor((t+e.margin*2)*o)},i.qrToImageData=function(t,e,o){const a=e.modules.size,c=e.modules.data,s=i.getScale(a,o),u=Math.floor((a+o.margin*2)*s),f=o.margin*s,C=[o.color.light,o.color.dark];for(let h=0;h<u;h++)for(let l=0;l<u;l++){let v=(h*u+l)*4,I=o.color.light;if(h>=f&&l>=f&&h<u-f&&l<u-f){const T=Math.floor((h-f)/s),A=Math.floor((l-f)/s);I=C[c[T*a+A]?1:0]}t[v++]=I.r,t[v++]=I.g,t[v++]=I.b,t[v]=I.a}}})(me)),me}var We;function kt(){return We||(We=1,(function(i){const r=ot();function n(e,o,a){e.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(o,a,c){let s=c,u=a;typeof s>"u"&&(!a||!a.getContext)&&(s=a,a=void 0),a||(u=t()),s=r.getOptions(s);const f=r.getImageWidth(o.modules.size,s),C=u.getContext("2d"),h=C.createImageData(f,f);return r.qrToImageData(h.data,o,s),n(C,u,f),C.putImageData(h,0,0),u},i.renderToDataURL=function(o,a,c){let s=c;typeof s>"u"&&(!a||!a.getContext)&&(s=a,a=void 0),s||(s={});const u=i.render(o,a,s),f=s.type||"image/png",C=s.rendererOpts||{};return u.toDataURL(f,C.quality)}})(we)),we}var ye={},Xe;function Dt(){if(Xe)return ye;Xe=1;const i=ot();function r(e,o){const a=e.a/255,c=o+'="'+e.hex+'"';return a<1?c+" "+o+'-opacity="'+a.toFixed(2).slice(1)+'"':c}function n(e,o,a){let c=e+o;return typeof a<"u"&&(c+=" "+a),c}function t(e,o,a){let c="",s=0,u=!1,f=0;for(let C=0;C<e.length;C++){const h=Math.floor(C%o),l=Math.floor(C/o);!h&&!u&&(u=!0),e[C]?(f++,C>0&&h>0&&e[C-1]||(c+=u?n("M",h+a,.5+l+a):n("m",s,0),s=0,u=!1),h+1<o&&e[C+1]||(c+=n("h",f),f=0)):s++}return c}return ye.render=function(o,a,c){const s=i.getOptions(a),u=o.modules.size,f=o.modules.data,C=u+s.margin*2,h=s.color.light.a?"<path "+r(s.color.light,"fill")+' d="M0 0h'+C+"v"+C+'H0z"/>':"",l="<path "+r(s.color.dark,"stroke")+' d="'+t(f,u,s.margin)+'"/>',v='viewBox="0 0 '+C+" "+C+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+v+' shape-rendering="crispEdges">'+h+l+`</svg>
`;return typeof c=="function"&&c(null,T),T},ye}var Ze;function Lt(){if(Ze)return O;Ze=1;const i=ht(),r=Pt(),n=kt(),t=Dt();function e(o,a,c,s,u){const f=[].slice.call(arguments,1),C=f.length,h=typeof f[C-1]=="function";if(!h&&!i())throw new Error("Callback required as last argument");if(h){if(C<2)throw new Error("Too few arguments provided");C===2?(u=c,c=a,a=s=void 0):C===3&&(a.getContext&&typeof u>"u"?(u=s,s=void 0):(u=s,s=c,c=a,a=void 0))}else{if(C<1)throw new Error("Too few arguments provided");return C===1?(c=a,a=s=void 0):C===2&&!a.getContext&&(s=c,c=a,a=void 0),new Promise(function(l,v){try{const I=r.create(c,s);l(o(I,a,s))}catch(I){v(I)}})}try{const l=r.create(c,s);u(null,o(l,a,s))}catch(l){u(l)}}return O.create=r.create,O.toCanvas=e.bind(null,n.render),O.toDataURL=e.bind(null,n.renderToDataURL),O.toString=e.bind(null,function(o,a,c){return t.render(o,c)}),O}var Ft=Lt();const et=ut(Ft);class Ot{static async generateQRCode(r){try{const{data:n,error:t}=await _.functions.invoke("generate-qr-code",{body:r});if(t)throw new Error(t.message||"Failed to generate QR code");if(!n.success)throw new Error(n.error||"Failed to generate QR code");return n.qrCode}catch(n){throw console.error("Error generating QR code:",n),n}}static async getQRCodes(r={}){try{const{data:n,error:t}=await _.functions.invoke("manage-qr-codes",{body:{action:"list",options:r}});if(t)throw new Error(t.message||"Failed to fetch QR codes");if(!n.success)throw new Error(n.error||"Failed to fetch QR codes");return n.result}catch(n){throw console.error("Error fetching QR codes:",n),n}}static async updateQRCode(r,n){try{const{data:t,error:e}=await _.functions.invoke("manage-qr-codes",{body:{action:"update",id:r,updates:n}});if(e)throw new Error(e.message||"Failed to update QR code");if(!t.success)throw new Error(t.error||"Failed to update QR code");return t.qrCode}catch(t){throw console.error("Error updating QR code:",t),t}}static async deleteQRCode(r){try{const{data:n,error:t}=await _.functions.invoke("manage-qr-codes",{body:{action:"delete",id:r}});if(t)throw new Error(t.message||"Failed to delete QR code");if(!n.success)throw new Error(n.error||"Failed to delete QR code")}catch(n){throw console.error("Error deleting QR code:",n),n}}static async getQRAnalytics(r,n={}){try{const{data:t,error:e}=await _.functions.invoke("get-qr-analytics",{body:{qrCodeId:r,...n}});if(e)throw new Error(e.message||"Failed to fetch QR analytics");if(!t.success)throw new Error(t.error||"Failed to fetch QR analytics");return t.result}catch(t){throw console.error("Error fetching QR analytics:",t),t}}static async generateQRCodeDataUrl(r,n={}){try{const e={...{width:256,margin:4,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"},...n};return await et.toDataURL(r,e)}catch(t){throw console.error("Error generating QR code data URL:",t),t}}static async generateQRCodeSvg(r,n={}){try{const e={...{width:256,margin:4,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"},...n};return await et.toString(r,{...e,type:"svg"})}catch(t){throw console.error("Error generating QR code SVG:",t),t}}static async downloadQRCode(r,n="png",t){try{const e=document.createElement("a"),o=t||`${r.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_qr.${n}`;if(n==="png")e.href=r.qrDataUrl;else{const a=new Blob([r.qrSvg],{type:"image/svg+xml"});e.href=URL.createObjectURL(a)}e.download=o,document.body.appendChild(e),e.click(),document.body.removeChild(e),n==="svg"&&URL.revokeObjectURL(e.href)}catch(e){throw console.error("Error downloading QR code:",e),e}}static async getQRTemplates(){try{return[{id:"classic",name:"Classic",description:"Simple black and white QR code",templateData:{color:{dark:"#000000",light:"#FFFFFF"},width:256,margin:4,errorCorrectionLevel:"M"},isDefault:!0},{id:"colored",name:"Colored",description:"QR code with custom colors",templateData:{color:{dark:"#3B82F6",light:"#FFFFFF"},width:256,margin:4,errorCorrectionLevel:"M"},isDefault:!1}]}catch(r){throw console.error("Error fetching QR templates:",r),r}}static async getQRCategories(){try{return[{id:"registration",name:"Player Registration",description:"QR codes for player registration links",color:"#3B82F6",icon:"user-plus"},{id:"tournament",name:"Tournament Info",description:"QR codes linking to tournament information",color:"#10B981",icon:"trophy"},{id:"general",name:"General",description:"General purpose QR codes",color:"#6B7280",icon:"link"}]}catch(r){throw console.error("Error fetching QR categories:",r),r}}static validateQRCodeData(r){const n=[];if((!r.title||r.title.trim().length===0)&&n.push("Title is required"),!r.targetUrl||r.targetUrl.trim().length===0)n.push("Target URL is required");else try{new URL(r.targetUrl)}catch{n.push("Target URL must be a valid URL")}return r.expiresAt&&new Date(r.expiresAt)<=new Date&&n.push("Expiration date must be in the future"),r.maxScans&&r.maxScans<=0&&n.push("Maximum scans must be greater than 0"),{isValid:n.length===0,errors:n}}static async bulkGenerateQRCodes(r){try{const{data:n,error:t}=await _.functions.invoke("bulk-generate-qr-codes",{body:r});if(t)throw new Error(t.message||"Failed to bulk generate QR codes");if(!n.success)throw new Error(n.error||"Failed to bulk generate QR codes");return n.result}catch(n){throw console.error("Error bulk generating QR codes:",n),n}}static async getQRChannels(){try{return[{id:"website",name:"Website",description:"QR codes for website integration",category:"digital",color:"#3B82F6",icon:"globe",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"social-media",name:"Social Media",description:"QR codes for social media campaigns",category:"marketing",color:"#10B981",icon:"share",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"email-marketing",name:"Email Marketing",description:"QR codes for email campaigns",category:"marketing",color:"#F59E0B",icon:"mail",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"print-media",name:"Print Media",description:"QR codes for print advertisements",category:"marketing",color:"#EF4444",icon:"printer",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"events",name:"Events",description:"QR codes for event registration",category:"events",color:"#8B5CF6",icon:"calendar",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"internal",name:"Internal",description:"QR codes for internal use",category:"internal",color:"#6B7280",icon:"building",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"partnerships",name:"Partnerships",description:"QR codes for partner campaigns",category:"partnerships",color:"#EC4899",icon:"handshake",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]}catch(r){throw console.error("Error fetching QR channels:",r),r}}static async bulkDownloadQRCodes(r,n="png",t={}){try{const{includeMetadata:e=!0,filename:o}=t;if(n==="pdf")await this.generateBulkPDF(r,e,o);else for(let a=0;a<r.length;a++){const c=r[a],s=`${c.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_qr_${a+1}`;await this.downloadQRCode(c,n,`${s}.${n}`),a<r.length-1&&await new Promise(u=>setTimeout(u,500))}}catch(e){throw console.error("Error bulk downloading QR codes:",e),e}}static async generateBulkPDF(r,n,t){try{const e=r.map((s,u)=>`
        QR Code ${u+1}: ${s.title}
        URL: ${s.targetUrl}
        ${s.description?`Description: ${s.description}`:""}
        Channel: ${s.channelName||"Not specified"}
        Created: ${new Date(s.createdAt).toLocaleDateString()}
        ---
      `).join(`
`),o=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(o),c=document.createElement("a");c.href=a,c.download=t||`bulk_qr_codes_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(a)}catch(e){throw console.error("Error generating bulk PDF:",e),e}}static async getQRCodeByCode(r){try{return console.warn("QR code database tables not yet available. Please run database migration first."),null}catch(n){throw console.error("Error fetching QR code by code:",n),n}}}export{dt as A,qt as C,Qt as E,Ot as Q,_t as a,gt as b};
